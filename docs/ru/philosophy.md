---
source-updated-at: '2025-04-16T08:45:06.000Z'
translation-updated-at: '2025-04-30T21:59:06.848Z'
id: philosophy
title: Философия
---

Каждый устоявшийся проект должен иметь философию, которая направляет его развитие. Без основной философии разработка может застрять в бесконечных решениях, что приведет к менее продуманным API.

Этот документ описывает ключевые принципы, лежащие в основе разработки и функциональности TanStack Form.

## Улучшение унифицированных API

API всегда связаны с компромиссами. В результате может возникнуть соблазн предоставить пользователю разные API для каждого набора компромиссов. Однако это может привести к фрагментированному API, который сложнее изучать и использовать.

Хотя это может означать более высокий порог вхождения, такой подход избавляет от необходимости выбирать, какой API использовать внутри, и снижает когнитивную нагрузку при переключении между API.

## Гибкость форм

TanStack Form разработан для гибкости и кастомизации. Хотя многие формы могут следовать схожим шаблонам, всегда есть исключения — особенно когда формы являются ключевым компонентом вашего приложения.

Поэтому TanStack Form поддерживает несколько методов валидации:

- **Настройка времени**: Валидация может происходить при потере фокуса (`blur`), изменении (`change`), отправке (`submit`) или даже при монтировании (`mount`).
- **Стратегии валидации**: Можно проверять отдельные поля, всю форму или подмножество полей.
- **Пользовательская логика валидации**: Можно писать собственную логику или использовать библиотеки, такие как [Zod](https://zod.dev/) или [Valibot](https://valibot.dev/).
- **Кастомизация сообщений об ошибках**: Можно настраивать сообщения об ошибках для каждого поля, возвращая любой объект из валидатора.
- **Асинхронная валидация**: Поля можно проверять асинхронно, а стандартные утилиты, такие как дебаунсинг и отмена, обрабатываются автоматически.

## Контролируемость — это круто

В мире, где контролируемые (`controlled`) и неконтролируемые (`uncontrolled`) поля ввода — горячая тема, TanStack Form твердо стоит на стороне контролируемых.

Это дает ряд преимуществ:

- **Предсказуемость**: Можно предсказать состояние формы в любой момент времени.
- **Простота тестирования**: Формы легко тестировать, передавая значения и проверяя результат.
- **Поддержка не-DOM окружений**: Можно использовать TanStack Form с React Native, адаптерами Three.js или любыми другими рендерерами.
- **Улучшенная условная логика**: Поля можно легко скрывать или показывать в зависимости от состояния формы.
- **Отладка**: Состояние формы можно логировать в консоль для упрощения отладки.

## Дженерики — это сложно

Вам никогда не придется передавать дженерики или использовать внутренние типы при работе с TanStack Form. Это потому, что библиотека спроектирована так, чтобы выводить все из значений по умолчанию во время выполнения.

При написании корректного кода с TanStack Form вы не должны замечать разницы между использованием JavaScript и TypeScript, за исключением возможных приведений типов (`type casts`) значений во время выполнения.

Вместо:

```typescript
useForm<MyForm>()
```

Следует делать так:

```typescript
interface Person {
  name: string
  age: number
}

const defaultPerson: Person = { name: 'Bill Luo', age: 24 }

useForm({
  defaultValues: defaultPerson,
})
```

## Библиотеки дают свободу

Одна из главных целей TanStack Form — возможность интеграции в вашу собственную систему компонентов или дизайн-систему.

Для этого в библиотеке есть ряд утилит, упрощающих создание собственных компонентов и кастомных хуков:

```typescript
// Экспортируется из вашей библиотеки с предварительно настроенными компонентами для форм.
export const { useAppForm, withForm } = createFormHook(/* options */)
```

Без этого вы добавляете в приложение много шаблонного кода, делая формы менее согласованными и удобными для пользователя.
