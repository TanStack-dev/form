---
source-updated-at: '2025-03-20T03:01:05.000Z'
translation-updated-at: '2025-04-30T21:59:21.681Z'
id: reactivity
title: Реактивность
---

# Реактивность

Tanstack Form не вызывает повторный рендеринг при взаимодействии с формой. Поэтому вы можете столкнуться с ситуацией, когда попытка использовать состояние формы или поля не увенчается успехом.

Если вам нужно получить доступ к реактивным значениям, потребуется подписаться на них одним из двух методов: `useStore` или компонент `form.Subscribe`.

Примеры использования этих подписок:

- Отображение актуальных значений полей
- Определение того, что рендерить, на основе условия
- Использование значений полей внутри логики компонента

> Для ситуаций, когда нужно "реагировать" на триггеры, ознакомьтесь с API [listener](./listeners.md).

## useStore

Хук `useStore` идеально подходит, когда нужно получить доступ к значениям формы внутри логики компонента. `useStore` принимает два параметра:

1. Хранилище формы (form store)
2. Селектор для точной настройки части формы, на которую нужно подписаться

```tsx
const firstName = useStore(form.store, (state) => state.values.firstName)
const errors = useStore(form.store, (state) => state.errorMap)
```

В селекторе можно получить доступ к любой части состояния формы.

> Важно: `useStore` вызовет полный повторный рендеринг компонента при изменении подписанного значения.

Хотя технически возможно опустить селектор, делать этого не стоит — это приведёт к множеству ненужных ререндеров при любом изменении состояния формы.

## form.Subscribe

Компонент `form.Subscribe` лучше всего подходит, когда нужно реагировать на изменения в UI компонента. Например, показывать или скрывать элементы интерфейса на основе значения поля формы.

```tsx
<form.Subscribe
  selector={(state) => state.values.firstName}
  children={(firstName) => (
    <form.Field>
      {(field) => (
        <input
          name="lastName"
          value={field.state.lastName}
          onChange={field.handleChange}
        />
      )}
    </form.Field>
  )}
/>
```

> Компонент `form.Subscribe` не вызывает повторный рендеринг на уровне всего компонента. При изменении подписанного значения перерендеривается только сам компонент `form.Subscribe`.

Выбор между `useStore` и `form.Subscribe` сводится к следующему:

- Если изменения касаются UI — используйте `form.Subscribe` для оптимизации производительности
- Если реактивность нужна внутри логики компонента — выбирайте `useStore`
